/* ======================================================================
   apps/web/app/styles/themes.css
   ----------------------------------------------------------------------
   Purpose:
   • Centralize theme mappings for light / dark / high-contrast
   • Provide system fallbacks when no [data-theme] is set
   Notes:
   • Keep values identical to the original globals.css.
   • No class renames; only CSS custom properties are defined here.
   • Import order: tokens.css → themes.css → layered styles.
   ====================================================================== */

/* ---------------- System fallbacks (when NO [data-theme] is present) ---------------- */

/* System LIGHT */
@media (prefers-color-scheme: light) {
  :root {
    --bg: #f8fafc;
    --fg: #0b1220;
    --muted: #475569;
    --muted-strong: #334155; /* AA on light bg */

    --card: #ffffff;
    --card-bd: #d0d7e2;

    --accent: #1e40af;
    --accent-contrast: #ffffff;
    /* Links */
    --link: #1e40af;          /* AA on light bg */
    --link-hover: #1d4ed8;    /* brighter on hover, still AA */
    --link-visited: #6b21a8;  /* violet 800, AA on light bg */
    /* Focus */
    --focus-ring: #2563eb;
    --focus-ring-contrast: #000000;

    --danger: #b91c1c;

    /* Ticket / playslip in light */
    --paper: #faf9f7;
    --ink: #1f2937;
    --ink-ghost: #f1f5f9;
    --ink-strong: #0f172a;
    --grid-line: rgba(2, 6, 23, .08);

    /* Bubble text colors — LIGHT (AA on white) */
    --bubble-red:   #e11d48; /* ≈4.7:1 on #fff */
    --bubble-blue:  #2563eb; /* ≈5.2:1 on #fff */
    --bubble-green: #047857; /* ≈5.5:1 on #fff (darker than #10b981) */
    --bubble-amber: #a16207; /* ≈4.9:1 on #fff (deeper than #eab308) */

    /* Game-derived specials (LIGHT) — tuned for AA on white */
    --bubble-fireball: #d97706; /* amber-600 (darker than 500 for contrast) */
    --bubble-nylotto:  #6d28d9; /* violet-700 (AA on white) */

    --card-emphasis: color-mix(in oklab, var(--accent) 12%, var(--card));
    --card-emphasis-bd: color-mix(in oklab, var(--accent) 40%, var(--card-bd));
    
  }
}

/* System DARK */
@media (prefers-color-scheme: dark) {
  :root {
    /* Base surfaces (match original defaults) */
    --bg: #0a0a0a;
    --fg: #ffffff;
    --muted: #cbd5e1;
    --muted-strong: #e2e8f0; /* brighter muted for small text */

    --card: #111318;
    --card-bd: #243244;

    --accent: #2563eb;
    --accent-contrast: #ffffff;
    /* Links on dark */
    --link: #60a5fa;         /* sky 400 – AA on near-black */
    --link-hover: #93c5fd;   /* sky 300 */
    --link-visited: #a78bfa; /* violet 300 – AA on dark */
    /* Focus */
    --focus-ring: #60a5fa;
    --focus-ring-contrast: #ffffff;

    --danger: #ef4444;

    /* Ticket / playslip in dark */
    --paper: #0b0c10;
    --ink: #e5e7eb;
    --ink-ghost: #111827;
    --ink-strong: var(--fg);
    --grid-line: rgba(148,163,184,.15);

    /* Bubble text colors — DARK (AA on near-black) */
    --bubble-red:   #f43f5e; /* ≈5.1:1 on #121212 */
    --bubble-blue:  #3b82f6; /* ≈5.1:1 on #121212 */
    --bubble-green: #10b981; /* ≈7.4:1 on #121212 */
    --bubble-amber: #eab308; /* ≈9.8:1 on #121212 */

    /* Game-derived specials (DARK) — bright enough on near-black */
    --bubble-fireball: #f59e0b; /* amber-500 */
    --bubble-nylotto:  #7c3aed; /* purple-600 */

    --card-emphasis: color-mix(in oklab, var(--accent) 18%, var(--card));
    --card-emphasis-bd: color-mix(in oklab, var(--accent) 45%, var(--card-bd));
  }
}

/* ---------------- Explicit theme selection via [data-theme] ---------------- */

[data-theme="light"] {
  --bg: #f8fafc;
  --fg: #0b1220;
  --muted: #475569;
  --muted-strong: #334155;

  --card: #ffffff;
  --card-bd: #d0d7e2;

  --accent: #1e40af;
  --accent-contrast: #ffffff;
  /* Links */
  --link: #1e40af;
  --link-hover: #1d4ed8;
  --link-visited: #6b21a8;
  /* Focus */
  --focus-ring: #2563eb;
  --focus-ring-contrast: #000000;

  --danger: #b91c1c;

  /* Ticket / playslip */
  --paper: #faf9f7;
  --ink: #1f2937;
  --ink-ghost: #f1f5f9;
  --ink-strong: #0f172a;
  --grid-line: rgba(2, 6, 23, .08);

  /* Bubble text colors — LIGHT (explicit) */
  --bubble-red:   #e11d48;
  --bubble-blue:  #2563eb;
  --bubble-green: #047857;
  --bubble-amber: #a16207;

  /* Game-derived specials (LIGHT explicit) */
  --bubble-fireball: #d97706; /* amber-600 */
  --bubble-nylotto:  #6d28d9; /* violet-700 */

  --card-emphasis: color-mix(in oklab, var(--accent) 12%, var(--card));
  --card-emphasis-bd: color-mix(in oklab, var(--accent) 40%, var(--card-bd));
}

[data-theme="dark"] {
  --bg: #0a0a0a;
  --fg: #ffffff;
  --muted: #cbd5e1;
  --muted-strong: #e2e8f0;

  --card: #111318;
  --card-bd: #243244;

  --accent: #2563eb;
  --accent-contrast: #ffffff;
  /* Links */
  --link: #60a5fa;
  --link-hover: #93c5fd;
  --link-visited: #a78bfa;
  /* Focus */
  --focus-ring: #60a5fa;
  --focus-ring-contrast: #ffffff;

  --danger: #ef4444;

  /* Ticket / playslip */
  --paper: #0b0c10;
  --ink: #e5e7eb;
  --ink-ghost: #111827;
  --ink-strong: var(--fg);
  --grid-line: rgba(148,163,184,.15);

  /* Bubble text colors — DARK (explicit) */
  --bubble-red:   #f43f5e;
  --bubble-blue:  #3b82f6;
  --bubble-green: #10b981;
  --bubble-amber: #eab308;

  /* Game-derived specials (DARK explicit) */
  --bubble-fireball: #f59e0b; /* amber-500 */
  --bubble-nylotto:  #7c3aed; /* purple-600 */

  --card-emphasis: color-mix(in oklab, var(--accent) 18%, var(--card));
  --card-emphasis-bd: color-mix(in oklab, var(--accent) 45%, var(--card-bd));
}

[data-theme="contrast"] {
  --bg: #000000;
  --fg: #ffffff;
  --muted: #ffffff;        /* avoid dim text in HC */
  --muted-strong: #ffffff; /* ensure always AA in HC */

  --card: #000000;
  --card-bd: #ffffff;      /* clear separators in HC */

  --accent: #00eaff;       /* cyan for maximal clarity on black */
  --accent-contrast: #000000; /* for filled chips/buttons */
  /* Links in HC */
  --link: #00eaff;
  --link-hover: #7df9ff;
  --link-visited: #ffcc00; /* distinct but bright */
  /* Focus ring must pop on all elements */
  --focus-ring: #ffffff;
  --focus-ring-contrast: #000000;

  --danger: #ff4d4d;

  /* Ticket / playslip (high contrast) */
  --paper: #000000;
  --ink: #ffffff;
  --ink-ghost: #0a0a0a;
  --ink-strong: var(--fg);
  --grid-line: rgba(255,255,255,.25);

  /* Bubble text colors — High Contrast
     (very bright on black; targets ≥ AA and nudges toward AAA where practical) */
  --bubble-red:   #ff8090; /* bright warm red, strong on black */
  --bubble-blue:  #60a5fa; /* sky 400 ≈7.3:1 on #121212/#000 */
  --bubble-green: #34d399; /* mint/emerald tint, very legible on black */
  --bubble-amber: #facc15; /* yellow 400, extremely legible on black */

  /* Game-derived specials (High Contrast) */
  --bubble-fireball: #ffb020; /* bright amber that pops on black */
  --bubble-nylotto:  #b794ff; /* bright violet on black */

  --card-emphasis: color-mix(in oklab, var(--accent) 24%, var(--card));
  --card-emphasis-bd: var(--focus-ring); /* crisp edge in HC */

}

/* End of themes.css */
